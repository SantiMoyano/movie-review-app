{"ast":null,"code":"import\"./LastReviews.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LastReviews(_ref){let{allReviews,allMovies}=_ref;const navigate=useNavigate();const reversedReviews=[...allReviews].reverse();const lastFiveReviews=reversedReviews.slice(0,5);function goToReviewTrailer(trailerId){navigate(\"/Trailer/\".concat(trailerId));}return/*#__PURE__*/_jsxs(\"section\",{className:\"last-reviews-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Last Reviews\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:lastFiveReviews.map(review=>{const timestamp=review.id.timestamp;const fecha=new Date(timestamp*1000);const fechaFormateada=fecha.toLocaleString();const movieData=allMovies===null||allMovies===void 0?void 0:allMovies.find(movie=>movie.imdbId===review.imdbId);return/*#__PURE__*/_jsx(Review,{review:review,movieData:movieData,fechaFormateada:fechaFormateada,goToReviewTrailer:goToReviewTrailer},review.id.timestamp);})})]});}function Review(_ref2){let{review,movieData,fechaFormateada,goToReviewTrailer}=_ref2;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"last-review-card d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column align-items-center\",children:movieData&&/*#__PURE__*/_jsxs(\"figure\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:movieData.poster,alt:\"Poster for \".concat(movieData.title),className:\"img-fluid\"}),/*#__PURE__*/_jsx(\"figcaption\",{onClick:()=>goToReviewTrailer(movieData.trailerLink.substring(movieData.trailerLink.length-11)),className:\"mt-2\",children:\"Watch trailer\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-info\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-dark text-light fs-6\",children:review.username})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{id:\"date\",children:fechaFormateada})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:review.body})})]})]})}),/*#__PURE__*/_jsx(\"hr\",{})]});}export default LastReviews;","map":{"version":3,"names":["useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LastReviews","_ref","allReviews","allMovies","navigate","reversedReviews","reverse","lastFiveReviews","slice","goToReviewTrailer","trailerId","concat","className","children","map","review","timestamp","id","fecha","Date","fechaFormateada","toLocaleString","movieData","find","movie","imdbId","Review","_ref2","src","poster","alt","title","onClick","trailerLink","substring","length","username","body"],"sources":["C:/Users/SANTI/Documents/GitHub/movie-review-app/frontend/src/components/lastReviews/LastReviews.js"],"sourcesContent":["import \"./LastReviews.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nfunction LastReviews({ allReviews, allMovies }) {\r\n  const navigate = useNavigate();\r\n  const reversedReviews = [...allReviews].reverse();\r\n  const lastFiveReviews = reversedReviews.slice(0, 5);\r\n  function goToReviewTrailer(trailerId) {\r\n    navigate(`/Trailer/${trailerId}`);\r\n  }\r\n  return (\r\n    <section className=\"last-reviews-container\">\r\n      <h2>Last Reviews</h2>\r\n      <ul className=\"list-group\">\r\n        {lastFiveReviews.map((review) => {\r\n          const timestamp = review.id.timestamp;\r\n          const fecha = new Date(timestamp * 1000);\r\n          const fechaFormateada = fecha.toLocaleString();\r\n          const movieData = allMovies?.find(\r\n            (movie) => movie.imdbId === review.imdbId\r\n          );\r\n\r\n          return (\r\n            <Review\r\n              key={review.id.timestamp}\r\n              review={review}\r\n              movieData={movieData}\r\n              fechaFormateada={fechaFormateada}\r\n              goToReviewTrailer={goToReviewTrailer}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction Review({ review, movieData, fechaFormateada, goToReviewTrailer }) {\r\n  return (\r\n    <>\r\n      <li className=\"list-group-item\">\r\n        <div className=\"last-review-card d-flex justify-content-between align-items-center\">\r\n          <div className=\"d-flex flex-column align-items-center\">\r\n            {movieData && (\r\n              <figure className=\"mt-2\">\r\n                <img\r\n                  src={movieData.poster}\r\n                  alt={`Poster for ${movieData.title}`}\r\n                  className=\"img-fluid\"\r\n                />\r\n                <figcaption\r\n                  onClick={() =>\r\n                    goToReviewTrailer(\r\n                      movieData.trailerLink.substring(\r\n                        movieData.trailerLink.length - 11\r\n                      )\r\n                    )\r\n                  }\r\n                  className=\"mt-2\"\r\n                >\r\n                  Watch trailer\r\n                </figcaption>\r\n              </figure>\r\n            )}\r\n          </div>\r\n          <div className=\"review-info\">\r\n            <div>\r\n              <span className=\"badge bg-dark text-light fs-6\">\r\n                {review.username}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <span id=\"date\">{fechaFormateada}</span>\r\n            </div>\r\n            <div>\r\n              <span>{review.body}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <hr />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LastReviews;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}