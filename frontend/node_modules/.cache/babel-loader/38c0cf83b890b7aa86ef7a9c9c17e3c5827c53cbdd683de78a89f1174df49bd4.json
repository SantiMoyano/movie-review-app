{"ast":null,"code":"import\"./Register.css\";import api from\"../../../api/axiosConfig\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const navigate=useNavigate();function goLogin(){navigate(\"/login\");}async function handleSubmit(e){e.preventDefault();if(!passwordMatches()){changeErrorMessage(\"Passwords do not match\");}else{try{const response=await api.post(\"/api/v1/auth/register\",{username:username,password:password});changeSuccessMessage(\"Registration Successful\");setTimeout(()=>{goLogin();},1000);}catch(e){changeErrorMessage(\"Invalid username or password\");}}}function passwordMatches(){return password===confirmPassword;}function handleChangeUsername(e){setUsername(e.target.value);}function handleChangePassword(e){setPassword(e.target.value);}function handleChangeConfirmPassword(e){setConfirmPassword(e.target.value);}function changeSuccessMessage(str){setSuccessMessage(str);setTimeout(function(){setSuccessMessage(\"\");},1000);}function changeErrorMessage(str){setErrorMessage(str);setTimeout(function(){setErrorMessage(\"\");},3000);}return/*#__PURE__*/_jsx(\"section\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-4\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>handleSubmit(e),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>handleChangeUsername(e),type:\"text\",className:\"form-control\",id:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>handleChangePassword(e),type:\"password\",className:\"form-control\",id:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>handleChangeConfirmPassword(e),type:\"password\",className:\"form-control\",id:\"confirmPassword\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#5EFF6B\"},children:successMessage}),/*#__PURE__*/_jsx(\"p\",{children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-warning btn-block\",children:\"Create an account\"})})]})]})})});}export default Register;","map":{"version":3,"names":["api","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","navigate","goLogin","handleSubmit","e","preventDefault","passwordMatches","changeErrorMessage","response","post","changeSuccessMessage","setTimeout","handleChangeUsername","target","value","handleChangePassword","handleChangeConfirmPassword","str","className","children","onSubmit","htmlFor","onChange","type","id","style","color"],"sources":["C:/Users/SANTI/Documents/GitHub/movie-review-app/frontend/src/components/auth/register/Register.js"],"sourcesContent":["import \"./Register.css\";\r\nimport api from \"../../../api/axiosConfig\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Register() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  function goLogin() {\r\n    navigate(\"/login\");\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!passwordMatches()) {\r\n      changeErrorMessage(\"Passwords do not match\");\r\n    } else {\r\n      try {\r\n        const response = await api.post(\"/api/v1/auth/register\", {\r\n          username: username,\r\n          password: password,\r\n        });\r\n        changeSuccessMessage(\"Registration Successful\");\r\n        setTimeout(() => {\r\n          goLogin();\r\n        }, 1000);\r\n      } catch (e) {\r\n        changeErrorMessage(\"Invalid username or password\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function passwordMatches() {\r\n    return password === confirmPassword;\r\n  }\r\n\r\n  function handleChangeUsername(e) {\r\n    setUsername(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleChangeConfirmPassword(e) {\r\n    setConfirmPassword(e.target.value);\r\n  }\r\n\r\n  function changeSuccessMessage(str) {\r\n    setSuccessMessage(str);\r\n    setTimeout(function () {\r\n      setSuccessMessage(\"\");\r\n    }, 1000);\r\n  }\r\n\r\n  function changeErrorMessage(str) {\r\n    setErrorMessage(str);\r\n    setTimeout(function () {\r\n      setErrorMessage(\"\");\r\n    }, 3000);\r\n  }\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <h2 className=\"text-center mt-4\">Register</h2>\r\n          <form onSubmit={(e) => handleSubmit(e)}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"text\">Username</label>\r\n              <input\r\n                onChange={(e) => handleChangeUsername(e)}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                onChange={(e) => handleChangePassword(e)}\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Confirm Password</label>\r\n              <input\r\n                onChange={(e) => handleChangeConfirmPassword(e)}\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"confirmPassword\"\r\n              />\r\n            </div>\r\n            <p style={{ color: \"#5EFF6B\" }}>{successMessage}</p>\r\n            <p>{errorMessage}</p>\r\n            <div className=\"button-container\">\r\n              <button type=\"submit\" className=\"btn btn-warning btn-block\">\r\n                Create an account\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}