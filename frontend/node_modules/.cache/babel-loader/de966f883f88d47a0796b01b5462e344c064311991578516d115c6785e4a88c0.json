{"ast":null,"code":"import\"./Login.css\";import api from\"../../../api/axiosConfig\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){let{handleLogin}=_ref;const navigate=useNavigate();function home(){navigate(\"/\");}const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");async function handleSubmit(e){e.preventDefault();try{const response=await api.post(\"/api/v1/auth/login\",{username:username,password:password});const token=response.data.token;handleLogin(token,username);home();}catch(err){changeErrorMessage(\"Invalid username or password\");}}function handleChangeUsername(e){setUsername(e.target.value);}function handleChangePassword(e){setPassword(e.target.value);}function changeErrorMessage(str){setErrorMessage(str);setTimeout(function(){setErrorMessage(\"\");},3000);}return/*#__PURE__*/_jsx(\"section\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-md-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>handleSubmit(e),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>handleChangeUsername(e),type:\"text\",className:\"form-control\",id:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>handleChangePassword(e),type:\"password\",className:\"form-control\",id:\"password\"})]}),/*#__PURE__*/_jsx(\"p\",{children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-warning btn-block\",children:\"Login\"})})]})]})})});}export default Login;","map":{"version":3,"names":["api","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","handleLogin","navigate","home","username","setUsername","password","setPassword","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","response","post","token","data","err","changeErrorMessage","handleChangeUsername","target","value","handleChangePassword","str","setTimeout","className","children","onSubmit","htmlFor","onChange","type","id"],"sources":["C:/Users/SANTI/Documents/GitHub/movie-review-app/frontend/src/components/auth/login/Login.js"],"sourcesContent":["import \"./Login.css\";\r\nimport api from \"../../../api/axiosConfig\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login({ handleLogin }) {\r\n  const navigate = useNavigate();\r\n\r\n  function home() {\r\n    navigate(\"/\");\r\n  }\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await api.post(\"/api/v1/auth/login\", {\r\n        username: username,\r\n        password: password,\r\n      });\r\n      const token = response.data.token;\r\n      handleLogin(token, username);\r\n      home();\r\n    } catch (err) {\r\n      changeErrorMessage(\"Invalid username or password\");\r\n    }\r\n  }\r\n\r\n  function handleChangeUsername(e) {\r\n    setUsername(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function changeErrorMessage(str) {\r\n    setErrorMessage(str);\r\n    setTimeout(function () {\r\n      setErrorMessage(\"\");\r\n    }, 3000);\r\n  }\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-md-3\">\r\n          <h2 className=\"text-center mt-4\">Login</h2>\r\n          <form onSubmit={(e) => handleSubmit(e)}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"text\">Username</label>\r\n              <input\r\n                onChange={(e) => handleChangeUsername(e)}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                onChange={(e) => handleChangePassword(e)}\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n              />\r\n            </div>\r\n            <p>{errorMessage}</p>\r\n            <div className=\"button-container\">\r\n              <button type=\"submit\" className=\"btn btn-warning btn-block\">\r\n                Login\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}